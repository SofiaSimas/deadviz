{"version":3,"file":"static/js/index.b1de20c0.chunk.js","sources":["/Users/alfian/Documents/Project/OSS/extension/deadviz/src/visualizer/index.css","/Users/alfian/Documents/Project/OSS/extension/deadviz/node_modules/dayjs/plugin/duration.js","/Users/alfian/Documents/Project/OSS/extension/deadviz/node_modules/dayjs/plugin/relativeTime.js","/Users/alfian/Documents/Project/OSS/extension/deadviz/src/utils.js","/Users/alfian/Documents/Project/OSS/extension/deadviz/src/visualizer/deadlineVisualizer.js","webpack:///./src/visualizer/index.css?9170","/Users/alfian/Documents/Project/OSS/extension/deadviz/src/visualizer/index.js","/Users/alfian/Documents/Project/OSS/extension/deadviz/src/visualizer/visualizer.js","/Users/alfian/Documents/Project/OSS/extension/deadviz/src/visualizer/welcome.js"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_0___ = require(\"-!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-3-1!../../node_modules/postcss-loader/src/index.js??postcss!antd/dist/antd.css\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\nexports.push([module.id, \"\", \"\"]);\n// Exports\nmodule.exports = exports;\n","!function(t,s){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=s():\"function\"==typeof define&&define.amd?define(s):t.dayjs_plugin_duration=s()}(this,function(){\"use strict\";var t,s,n=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,i={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,weeks:6048e5},e=function(t){return t instanceof u},r=function(t,s,n){return new u(t,n,s.$l)},o=function(t){return s.p(t)+\"s\"},u=function(){function s(t,s,e){var u=this;if(this.$d={},this.$l=e,s)return r(t*i[o(s)],this);if(\"number\"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if(\"object\"==typeof t)return Object.keys(t).forEach(function(s){u.$d[o(s)]=t[s]}),this.calMilliseconds(),this;if(\"string\"==typeof t){var h=t.match(n);if(h)return this.$d.years=h[2],this.$d.months=h[3],this.$d.weeks=h[4],this.$d.days=h[5],this.$d.hours=h[6],this.$d.minutes=h[7],this.$d.seconds=h[8],this.calMilliseconds(),this}return this}var u=s.prototype;return u.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(s,n){return s+(t.$d[n]||0)*(i[n]||1)},0)},u.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=Math.floor(t/31536e6),t%=31536e6,this.$d.months=Math.floor(t/2592e6),t%=2592e6,this.$d.days=Math.floor(t/864e5),t%=864e5,this.$d.hours=Math.floor(t/36e5),t%=36e5,this.$d.minutes=Math.floor(t/6e4),t%=6e4,this.$d.seconds=Math.floor(t/1e3),t%=1e3,this.$d.milliseconds=t},u.toISOString=function(){var t=this.$d.years?this.$d.years+\"Y\":\"\",s=this.$d.months?this.$d.months+\"M\":\"\",n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var i=n?n+\"D\":\"\",e=this.$d.hours?this.$d.hours+\"H\":\"\",r=this.$d.minutes?this.$d.minutes+\"M\":\"\",o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var u=o?o+\"S\":\"\",h=\"P\"+t+s+i+(e||r||u?\"T\":\"\")+e+r+u;return\"P\"===h?\"P0D\":h},u.toJSON=function(){return this.toISOString()},u.as=function(t){return this.$ms/(i[o(t)]||1)},u.get=function(t){var s=this.$ms,n=o(t);return\"milliseconds\"===n?s%=1e3:s=\"weeks\"===n?Math.floor(s/i[n]):this.$d[n],s},u.add=function(t,s,n){var u;return u=s?t*i[o(s)]:e(t)?t.$ms:r(t,this).$ms,r(this.$ms+u*(n?-1:1),this)},u.subtract=function(t,s){return this.add(t,s,!0)},u.locale=function(t){var s=this.clone();return s.$l=t,s},u.clone=function(){return r(this.$ms,this)},u.humanize=function(s){return t().add(this.$ms,\"ms\").locale(this.$l).fromNow(!s)},u.milliseconds=function(){return this.get(\"milliseconds\")},u.asMilliseconds=function(){return this.as(\"milliseconds\")},u.seconds=function(){return this.get(\"seconds\")},u.asSeconds=function(){return this.as(\"seconds\")},u.minutes=function(){return this.get(\"minutes\")},u.asMinutes=function(){return this.as(\"minutes\")},u.hours=function(){return this.get(\"hours\")},u.asHours=function(){return this.as(\"hours\")},u.days=function(){return this.get(\"days\")},u.asDays=function(){return this.as(\"days\")},u.weeks=function(){return this.get(\"weeks\")},u.asWeeks=function(){return this.as(\"weeks\")},u.months=function(){return this.get(\"months\")},u.asMonths=function(){return this.as(\"months\")},u.years=function(){return this.get(\"years\")},u.asYears=function(){return this.as(\"years\")},s}();return function(n,i,o){t=o,s=o().$utils(),o.duration=function(t,s){var n=o.locale();return r(t,{$l:n},s)},o.isDuration=e}});\n","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){\"use strict\";return function(r,t,e){r=r||{};var n=t.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};e.en.relativeTime=o;var d=function(t,n,d,i){for(var u,a,s,f=d.$locale().relativeTime||o,l=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],h=l.length,m=0;m<h;m+=1){var c=l[m];c.d&&(u=i?e(t).diff(d,c.d,!0):d.diff(t,c.d,!0));var y=(r.rounding||Math.round)(Math.abs(u));if(s=u>0,y<=c.r||!c.r){y<=1&&m>0&&(c=l[m-1]);var p=f[c.l];a=\"string\"==typeof p?p.replace(\"%d\",y):p(y,n,c.l,s);break}}return n?a:(s?f.future:f.past).replace(\"%s\",a)};n.to=function(r,t){return d(r,t,this,!0)},n.from=function(r,t){return d(r,t,this)};var i=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(i(this),r)},n.fromNow=function(r){return this.from(i(this),r)}}});\n","export const isEmptyObject = obj => obj ? Object.keys(obj).length === 0 && obj.constructor === Object : false;","import React from \"react\";\nimport styled, {keyframes} from \"styled-components\";\nimport {Divider, Layout, Tooltip} from 'antd';\n\nconst {Header, Footer, Content} = Layout;\n\nconst Container = styled.div`\n    left: 50%;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%) translateX(-50%);\n  width: 500px;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-start;\n`;\n\nconst BoxContainer = styled.div`\n    display: flex;\n  flex-flow: row wrap;\n  justify-content: center;\n  margin: 0 auto;\n`;\n\nconst FadeIn = keyframes`\n      0% {\n        opacity: 0;\n        transform: scale(0);\n      }\n    \n      50% {\n        transform: scale(1.5);\n      }\n    \n      100% {\n        opacity: 1;\n        transform: scale(1);\n      }\n`\n\nconst Box = styled.div`\n    flex-grow: 0;\n    border-radius: 4px;\n    position: relative;\n    padding: 10px;\n    box-sizing: border-box;\n    height: 30px;\n    margin: 4px;\n    width: 30px;\n    cursor: pointer;\n    background-color: #fff;\n    animation: 0.1s ease-in-out both ${FadeIn};\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: all 0.25s ease-in-out;\n    animation-delay: ${props => props.delay * 0.1}s;\n    \n    &:hover {\n       box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);\n    }\n\n`;\n\nconst PassedBox = styled(Box)`\n    background-color: red;\n`;\n\nconst Title = styled(Divider)`\n    font-size: 20px !important;\n`;\n\nconst DeadlineVisualizer = ({deadline}) => {\n    document.title = `${deadline.name} - ${deadline.summary}`;\n    return (\n        <Layout style={{height: '100vh', width: '100vw'}}>\n            <Header style={{backgroundColor: '#fff'}}>\n                <Title>{deadline.name}</Title>\n            </Header>\n            <Content>\n                <Container>\n                    <BoxContainer>\n                        {deadline.boxes.map((item, index) => item.passed ?\n                            <Tooltip title={item.info} color=\"red\">\n                                <PassedBox key={index} delay={index + 1}/>\n                            </Tooltip>\n                            :\n                            <Tooltip title={item.info}>\n                                <Box key={index} delay={index + 1}/>\n                            </Tooltip>)}\n                    </BoxContainer>\n                </Container>\n            </Content>\n            <Footer style={{backgroundColor: '#fff'}}>\n                <Divider>{deadline.summary}</Divider>\n            </Footer>\n        </Layout>\n    );\n}\n\nexport default DeadlineVisualizer;","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-3-1!../../node_modules/postcss-loader/src/index.js??postcss!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-3-1!../../node_modules/postcss-loader/src/index.js??postcss!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-3-1!../../node_modules/postcss-loader/src/index.js??postcss!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css'\nimport Visualizer from \"./visualizer\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Visualizer />\n    </React.StrictMode>,\n    document.getElementById('root')\n);","/*global chrome*/\nimport React, {useEffect, useState} from \"react\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport duration from \"dayjs/plugin/duration\";\nimport DeadlineVisualizer from \"./deadlineVisualizer\";\nimport Welcome from \"./welcome\";\nimport {isEmptyObject} from \"../utils\";\n\ndayjs.extend(duration);\ndayjs.extend(relativeTime);\n\nconst limitNumberOfBoxes = 30;\nconst day = \"day\";\nconst week = \"week\";\nconst month = \"month\";\nconst year = \"year\";\n\nconst chooseRandomDeadline = deadlines => {\n    const random = Math.ceil(Math.random() * 100);\n    const index = random % deadlines.length;\n\n    return parseData(deadlines[index]);\n};\n\nconst parseData = deadline => {\n    let startDate = dayjs(deadline.start);\n    let endDate = dayjs(deadline.end);\n    let timeUnit = day;\n    let diff = dayjs.duration(endDate.diff(startDate));\n    let numOfBoxes = Math.ceil(diff.asDays());\n    if (numOfBoxes > limitNumberOfBoxes) {\n        timeUnit = week;\n        numOfBoxes = Math.ceil(diff.asWeeks());\n    }\n\n    // if the number of boxes are still big, then convert it to month\n    if (numOfBoxes > limitNumberOfBoxes) {\n        timeUnit = month;\n        numOfBoxes = Math.ceil(diff.asMonths());\n    }\n\n    // still big, convert it to years\n    if (numOfBoxes > limitNumberOfBoxes) {\n        timeUnit = year;\n        numOfBoxes = Math.ceil(diff.asYears());\n    }\n\n    const now = dayjs();\n\n    let passedBoxCount = 0;\n\n    let boxes = [];\n\n    for (let i = 1; i <= numOfBoxes; i++) {\n        const remainingTime = startDate.from(now);\n        const passedTime = now.to(startDate);\n\n        if (startDate.isAfter(now)) {\n            boxes.push({passed: false, info: remainingTime});\n        } else {\n            passedBoxCount++;\n            boxes.push({passed: true, info: passedTime});\n        }\n\n        startDate = startDate.add(1, timeUnit);\n    }\n\n    const remaining = numOfBoxes - passedBoxCount;\n    const percentage = (passedBoxCount / numOfBoxes * 100).toFixed(2);\n    if (remaining > 1) {\n        timeUnit = `${timeUnit}s`;\n    }\n\n    return {\n        name: deadline.name,\n        boxes,\n        summary: `${remaining} ${timeUnit} remaining (${percentage}%)`\n    };\n};\n\nconst Visualizer = () => {\n    const [deadline, setDeadline] = useState({});\n    const [deadlineExists, setDeadlineExists] = useState(false);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        chrome.storage.sync.get(['deadlines', 'pinned'], data => {\n            if (!data) {\n                return\n            }\n\n            // check if any pinned deadline exists\n            if (!isEmptyObject(data.pinned)) {\n                setDeadline(parseData(data.pinned));\n                setDeadlineExists(true);\n                setLoading(false);\n                return\n            }\n\n            if (!!data && !!data.deadlines) {\n                setDeadline(chooseRandomDeadline(data.deadlines));\n                setDeadlineExists(true);\n            }\n\n            setLoading(false);\n        })\n    }, []);\n\n    if (loading) {\n        return <div></div>\n    }\n\n    return deadlineExists ? <DeadlineVisualizer deadline={deadline} /> : <Welcome />;\n}\n\nexport default Visualizer;","import React from \"react\";\n\nconst Welcome = () => (\n    <div>Please add a new goal/plan's deadline</div>\n);\n\nexport default Welcome;"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;;;;;;;;;AAAA;AAWA;;;;;AAAA;AAOA;;;;;;;;;;;;;;AAAA;AAgBA;;;;;;;;;;;AAWA;;;AAGA;AACA;;;;;AAfA;AAsBA;;AAAA;AAIA;;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AC5CA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACpHA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;;;;;;;;;;;;;;;;;;A","sourceRoot":""}